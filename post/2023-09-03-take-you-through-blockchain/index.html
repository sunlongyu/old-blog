<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <meta property="og:site_name" content="THIS IS SLY">
    <meta property="og:type" content="article">

    
    <meta property="og:image" content="https://sunlongyu.github.io//img/home-bg-jeep.jpg">
    <meta property="twitter:image" content="https://sunlongyu.github.io//img/home-bg-jeep.jpg" />
    

    
    <meta name="title" content="Take you through Blockchain" />
    <meta property="og:title" content="Take you through Blockchain" />
    <meta property="twitter:title" content="Take you through Blockchain" />
    

    
    <meta name="description" content="我的描述。">
    <meta property="og:description" content="我的描述。" />
    <meta property="twitter:description" content="我的描述。" />
    

    
    <meta property="twitter:card" content="summary" />
    
    

    <meta name="keyword"  content="my keywords">
    <link rel="shortcut icon" href="/img/sly.ico">

    <title>Take you through Blockchain | SLY | THIS IS SLY</title>

    <link rel="canonical" href="/post/2023-09-03-take-you-through-blockchain/">

    
    
    
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    
    <link rel="stylesheet" href="/css/hugo-theme-cleanwhite.min.css">

    
    <link rel="stylesheet" href="/css/zanshang.css">

    
    <link href="https://cdn.jsdelivr.net/gh/FortAwesome/Font-Awesome@5.15.1/css/all.css" rel="stylesheet" type="text/css">

    
    

    
    <script src="/js/jquery.min.js"></script>

    
    <script src="/js/bootstrap.min.js"></script>

    
    <script src="/js/hux-blog.min.js"></script>

    
    <script src="/js/lazysizes.min.js"></script>

    
    

</head>




<nav class="navbar navbar-default navbar-custom navbar-fixed-top">

    <div class="container-fluid">
        
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">THIS IS SLY</a>
        </div>

        
        
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">All Posts</a>
                    </li>
                    
                        
                        <li>
                            <a href="/categories/blockchain">blockchain</a>
                        </li>
                        
                        <li>
                            <a href="/categories/other">other</a>
                        </li>
                        
                        <li>
                            <a href="/categories/secruity">secruity</a>
                        </li>
                        
                    
                    
		    
                        <li><a href="/archive/">ARCHIVE</a></li>
                    
                        <li><a href="/notes/">COMPOSITION</a></li>
                    
                        <li><a href="/about/">ABOUT ME</a></li>
                    
		            <li>
                        <a href="/search"><i class="fa fa-search"></i></a>
		           </li>
                </ul>
            </div>
        </div>
        
    </div>
    
</nav>
<script>
    
    
    
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        
            $navbar.className = " ";
            
            setTimeout(function(){
                
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>




<style type="text/css">
    header.intro-header {
        background-image: url('/img/home-bg-jeep.jpg')
    }
</style>

<header class="intro-header" >

    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/tags/blockchain" title="blockchain">
                            blockchain
                        </a>
                        
                        <a class="tag" href="/tags/btc" title="BTC">
                            BTC
                        </a>
                        
                        <a class="tag" href="/tags/pos" title="POS">
                            POS
                        </a>
                        
                        <a class="tag" href="/tags/pow" title="POW">
                            POW
                        </a>
                        
                    </div>
                    <h1>Take you through Blockchain</h1>
                    <h2 class="subheading">start blockchain</h2>
                    <span class="meta">
                        
                            Posted by 
                            
                                     &#34;SLY&#34;
                             
                            on 
                            Sunday, September 3, 2023
                            
                            
                            
                            
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>




<article>
    <div class="container">
        <div class="row">

            
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                
                <h3 id="introbtc">Intro—BTC</h3>
<h4 id="1def">1.def</h4>
<p>比特币是一种基于分布式网络的数字货币，其价值由广泛的共识来决定。</p>
<h4 id="2共识机制">2.共识机制</h4>
<p>比特币网络中的所有节点都会接收到一组交易记录（该记录作为一个区块保存），然后把这个区块更新到本地的账本记录中。节点无法随意增加记录，否则整个比特币网络中的记录就无法保持一致。为了保持记录一致，那么必须确认哪个区块被优先写入，也就是需要以某一个节点的操作为准。但如果人为规定以某个节点为准，就意味着这个节点比其他节点更权威，相当于变成了一个中心节点，那么去中心化的优势就荡然无存。</p>
<p>那么在比特币系统中，需要如何保持各个节点的账本数据记录一致呢，即按照一个统一的规则行动，以便最终形成一个所有人都认可的公共账本？</p>
<p><strong>比特币使用的共识算法叫做PoW共识机制，即Proof of Work（工作量证明）</strong>，率先完成工作量证明的节点，拥有区块写入权，其他的节点在此区块的基础上（最长链的基础上）进行后续交易记录的工作量证明。</p>
<p>挖矿：</p>
<p>工作量证明中最重要的是计算一个数学难题，解此难题唯一的方式是不断的尝试，直到试出“答案”，率先完成解答的节点可以获取一笔奖励，最初奖励是每个区块50个比特币，之后每大约4年减半，当前为每区块 6.25 比特币。由于完成工作量证明有一定的随机性，通常这个过程也称为“挖矿”，参与挖矿的节点，则称为“矿工”。</p>
<p>矿工的收益不仅仅包含出块奖励，同时还有交易手续费收益，根据中本聪的设想，当出块奖励越来越小后，矿工的收益将主要来自于交易手续费。</p>
<h4 id="3attribution">3.attribution</h4>
<p><strong>去中心化decentralization</strong>：比特币的账本数据存储在区块链中，而区块链本身存储在千千万万的节点中，没有一个中心化的存储设备。 比特币账本数据面向所有人公开，任何人都可以把它存储到自己的机器中。</p>
<h4 id="4payment-method">4.Payment method</h4>
<p>btc的账户用地址来表示，当需要转账时，可以理解为：</p>
<pre><code>&quot;from&quot;：&quot;1ABzp1eP5QGefi2DMPTf...&quot;
&quot;to&quot;：&quot;3FRdnTq18LyNveWa1gQJcgp...&quot;
&quot;amount&quot;：&quot;1 btc&quot;
</code></pre>
<p>eg：
  <img src="/mdimg/image-20230529165818726.png" alt="">

</p>
<h4 id="1btc常见的地址类型">1）btc常见的地址类型：</h4>
<ol>
<li>P2PKH 地址，也叫 “传统地址（Legacy address）”，以数字 “1” 开头，长度为 26 个到 36 个字符， 如：<code>1ABzp1eP5QGefi2DMPTfTL5SLmv7DivfNa</code></li>
<li>P2SH 地址，以数字 “3” 开头, 如：<code>3FRdnTq18LyNveWa1gQJcgp8qEnzijv5vR</code> .</li>
<li>P2WPKH 地址，也叫 “Bech32 地址”，是一种高级的地址，以 “bc1” 开头.</li>
</ol>
<h4 id="2private-keypublic-key">2）private key&amp;public key</h4>
<p>当某地址发起交易时，要求发起人对交易信息进行签名，签名是用该地址对应的私钥进行的</p>
<p>当我们创建一个比特币地址（账户时），会首先生成一个<strong>随机数作为私钥</strong>，然后根据**椭圆曲线算法(ECDSA)**计算出公钥，然后在根据哈希运算及校验编码得到比特币地址</p>
<p>即得到地址的过程为：
  <img src="/mdimg/image-20230529162050305.png" alt="">

</p>
<p>（由此可见当持有某地址的private key 就是持有该地址的btc，并且无法通过地址反推key）</p>
<h4 id="3utxo-模型unspent-transaction-output">3）UTXO 模型（Unspent Transaction Output）</h4>
<p>比特币基于UTXO的结构存储有关用户余额的数据，系统中用户的余额是用户具有私钥的UTXO的总值。</p>
<p>一个 UTXO 代表 “一整块” 的可以使用比特币，每个UTXO都有一个所有者和一个面值。比特币的交易是不断消费老 UTXO 产生新的 UTXO 的过程，当我们要使用一个 UTXO 时，就是对用私钥 UTXO 进行解锁（签名），以便使用其中的比特币。</p>
<p>优点：</p>
<p>拥有更高程度的隐私，用户为收到的每笔交易使用新的地址，这就很难将账户相互链接，很大程度上适用于货币；</p>
<p>更符合可扩展性的要求，只需要依赖拥有UTXO的那些人去维护基于merkle树的所有权证明就可</p>
<h4 id="4wallet">4）Wallet</h4>
<p>钱包本身不保存资产，仅用来显示btc的余额</p>
<p>钱包软件在比特币区块链上查询所有由你的私钥控制的 UTXO，然后将这些 UTXO 的值相加，并显示最终余额，因此也可将钱包看成一个管理私钥（生成、存储、签名）的工具</p>
<p>【比特币的交易是在钱包内完成的，而不是在节点上，因此离线的情况下也可创建交易，交易创建后再通过比特币节点发送到比特币网络中】</p>
<h4 id="5payment-process">5.payment process</h4>
<h4 id="1创建交易及交易签名">1）创建交易及交易签名</h4>
<p>交易输入➡️交易输出➡️签名</p>
<h4 id="2节点验证交易有效性">2）节点验证交易有效性</h4>
<p>矿工对交易的有效性进行检查，如：</p>
<ul>
<li>交易输出是否 小于 0 或者大于 2100 万 BTC</li>
<li>交易不是一笔 coinbase 交易 ，因为区块之外无法存在任何 coinbase 交易</li>
<li>签名验证确定 UTXO 的有效性</li>
</ul>
<p>交易池：未确认交易的缓存，无论交易来自哪里，交易就得先被节点的交易池（mempool）接受，以便矿工从中挑选出手续费率最高的交易、打包到区块中</p>
<h4 id="3使用工作量证明挖掘新区块">3）使用工作量证明挖掘新区块</h4>
<p>矿工从从交易池中找出最优的一组交易（在一个区块限制下，手续费收益最大），给这组交易创建merkle树， 然后不断的执行暴力哈希运算，以求解出满足一下 Hash 目标值的nonce值</p>
<p>比特币使用的SHA256算法为(SHA256(version + prev_hash + merkle_root + ntime + nbits + nonce )) &lt; HASH 目标值</p>
<p>(version: block的版本 prev_hash: 上一个block的hash值 merkle_root: 需要写入的交易记录的hash树的值 ntime: 更新时间 nbits: 当前难度)</p>
<p>
  <img src="/mdimg/image-20230529174708813.png" alt="">

</p>
<p><strong>只有当一笔交易被包含进一个带有有效工作量证明的区块，并且该区块被整个网络接受之后，我们就说这笔交易 “被确认了”，此时才可以认为资金的转移已经完成了</strong></p>
<h3 id="no1-overview-of-blockchain">No.1 Overview of Blockchain</h3>
<p>比特币诞生的几年后，人们开始意识到区块链技术本身的潜力，慢慢走出了自己的发展路线。 通常区块链被定义为一种去中心化的分布式账本技术，最初用来记录信息，使记录具备不可篡改性，<strong>随着以太坊的出现，还可以去中心化的方式运行程序（智能合约）</strong>，确保程序的运行不被干预、篡改，使区块链成为一个公共的计算平台。</p>
<h4 id="1def-1">1.def</h4>
<p>区块链是一种区块通过 Hash 方式形成的链式结构，因为链的环环相扣，任一个区块上的修改，都会破坏链结构</p>
<p>区块：区块链中的数据存储单元，由参与网络的节点独立生成，每一个区块中存储了一组交易信息，这些交易信息的哈希数据为作为默克尔树节点存储，每个区块同时存储前一个区块的哈希信息，因此区块就通过哈希信息链接起来，形成区块链</p>
<h4 id="2smart-contract">2.smart contract</h4>
<p><strong>以太坊中创新的引入smart contract，它是区块链可执行的代码</strong>，用户可以根据自己的业务需要上传自己的代码到以太坊上，由以太坊的节点来进行执行</p>
<p>在以太坊提出之前，比特币这样的加密货币的交易脚本可实现的功能非常有限，以太坊对此进行了改进，它让交易发生的同时可以执行一段代码。让交易本身具备了逻辑执行能力（并且是图灵完备的），让我们可以在链上完成任意复杂的运算。如有的交易要分期付款，或者多方参与的借贷。像保险合同的执行也是有事前约定的条件，这些合约条件的执行使用智能合约可以轻松实现。</p>
<p>“samrt”强调不受干预的可自动执行；</p>
<p>“contract”取材自现实中的合约，是想强调链上的程序可以按协议规则执行，就像法律条款一样</p>
<h4 id="3consensus-mechanism">3.Consensus mechanism</h4>
<p>区块链是一个分布式网络，网络中的节点都是独立运行，因此需要有一个公共规则来知道节点的运行，即共识机制。常见的共识机制有：工作量证明（POW）、权益证明（POS）、权威证明（POA）</p>
<h4 id="1proof-of-work-pow">1）Proof-of-Work POW</h4>
<p>类比：玩游戏积累经验升级（计算的工作量=经验；验证工作量=升级按钮；区块链会为哈希的计算增添难度，将平均计算出一个哈希值的时间进行控制）</p>
<p>POW 要求节点进行大量的计算（查找最优解）来证明其贡献，首先解决计算问题的节点获得报酬，这个过程也称为“挖矿”。</p>
<p>
  <img src="/mdimg/image-20230530120801272.png" alt="">

</p>
<p>advantage：the most security；reliable</p>
<p>disadvantage：消耗大量计算能力和电能，从而带来了较高的物理成本</p>
<p>算力攻击：当一个节点的算力占全网算力的51%以上时，将获得记账权的绝对优势，可以更快地生成区块，某种程度上拥有了修改区块链数据的权利，从而对链发起攻击，最典型是<strong>双花攻击</strong></p>
<p>
  <img src="/mdimg/image-20230530161532220.png" alt="">

</p>
<p>攻击者在实施攻击前，会进行隐身挖矿（如下图橙色链），出块不进行广播， 攻击者矿工在橙色链上修改他自己的交易，当橙色链比主链更长了，攻击者矿工便会立即向全网广播这条橙色链，而其他的矿工发现了这条橙色链后，按照协议，他们必须丢掉原本的主链，替换成这条橙色链，就完成了一次双花攻击。随着比特币网络算力越来越大，这种攻击可能性也就越来越小。</p>
<h4 id="2proof-of-stake-pos">2）Proof of Stake POS</h4>
<p>节点（验证者）此时争夺记账权依靠的不是算力而是权益（占比），权益通常通过质押数字货币计算而来。</p>
<p>PoS同样需要计算哈希值，当拥有的权益越多，满足Hash目标的机会越大，获得记账权的机会越大。同时质押的货币也作为抵押品防止作恶，如果节点有恶意行为，其抵押品可以被罚没（Slashing）。</p>
<p>目前，各个不同的区块链有自己不同的实现方式，如引入持币时间来计算权益、引入委托质押（DPOS ）用更少的共识成本换取更大的吞吐量 (TPS)、或使用投票方式，如BTF 类算法多区块投票</p>
<p>
  <img src="/mdimg/image-20230530172320028.png" alt="">

</p>
<p>advantage：不需要消耗大量能量，POS 出块时间稳定，有根号的“快速最终性”， 通常吞吐量（TPS每秒链上交易 ) 表现都更加优异。</p>
<p>disadvantage：不够成熟；质押货币需要当前的验证者确认，这相当于需要获得网络认可，当网络被恶意大的验证者控制时（其拥有超51% 的权益）， 它可以对某些交易进行审查，阻碍新参与者进入，从而对网络产生永久性的损害。</p>
<h4 id="3proof-of-authority-poa">3）Proof-of-authority POA</h4>
<p>基于声誉（reputation）的共识算法，选出中央权威来统一状态。 所有的交易，节点间不用相互同步，而是统一发送到权威节点（可能多个），由它来验证交易。在验证并签署交易之后，普通节点都从权威节点同步数据，主要用于联盟内共识。</p>
<p>ad&amp;disad： 性能非常好，但过于中心化，对权威节点的攻击，将造成网络瘫痪</p>
<p>【注】：区块链不能三角化，即去中心化（Decentralization）、可扩展性（Scalability）、安全性（Security），三者不可兼得，三者只能得其二。</p>
<h4 id="4blockchain-fork">4.blockchain fork</h4>
<p>当区块链需要升级加入新功能，或是升级解决出现的漏洞，通常会表现为链的分叉。</p>
<h4 id="1硬分叉">1）硬分叉</h4>
<p>区块链是分布式系统，每次升级，需要所有的节点客户端软件共同升级，有时一些节点因为利益或理念的不一致，拒绝升级到新的客户端，此时网络中将出现两个版本的客户端，运行新软件的节点就会用新的协议去构建新的区块，原有的客户端节点会继续用旧的协议来继续构建区块，各节点不认可对方的区块，此时就是会分叉出两条完全不同的链，这种情况是硬分叉。</p>
<h4 id="2软分叉">2）软分叉</h4>
<p>软分叉向后兼容，没有更新的节点仍然会认可新版本生成的区块，当升级后的区块链将无法识别尚未更新的节点的区块。</p>
<h3 id="no2-blockchain-classification">No.2 Blockchain classification</h3>
<p>根据区块链采用不同的共识机制，区块链分为三类：公链、私链、联盟链。</p>
<h4 id="1public-blockchain">1.public blockchain</h4>
<p>公链公开、透明的，信息对任何人都可见；任何人都可以在链上发起交易，任何人都可以按共识接入区块链。没有人可以修改链上数据、也没有机构或组织能够关闭一条公链，公链只会因为失去共识而凋零</p>
<h4 id="2private-blockchain">2.private blockchain</h4>
<p>私链是不公开、只有被授权的节点才可以参与并查看数据的私有区块链，也称为permissioned blockchain。 私有链通常用于组织内部，链的读写权限掌握在某个组织手里，私链是中心化的区块链，省去了共识的过程，可以具备很快的交易速度及交易“0”成本。</p>
<p>作为用户，必须得到私链拥有者的许可才能够发起转账和查询操作；</p>
<p>作为节点，也需要许可才能加入私链网络；</p>
<p>私链的代码也可能是开源的，开源不表示是公链。 私链对很多企业来说是首选。因为对于企业来说，企业内部的各种信息并不能公开，这和公链的透明性正好互相冲突。 私链的拥有者对私链有最高的权限，拥有者能随时关停私链，也可以在需要的时候进行分叉以此实现记录回滚等操作。</p>
<p>【注】：私链可以不用对出块节点进行代币奖励。因此，代币在私链中并不是必需项。当区块链中没有代币也就成为了无币区块链。</p>
<h4 id="3consortium-blockchain">3.consortium blockchain</h4>
<p>联盟链由多个组织共同拥有，由联盟内成员节点共同维护，节点通过授权后才能加入联盟网络。</p>
<p>联盟链可以让不同的组织之间共享数据，能很好地提升商业行为的效率。十分适合应用于在行业内多个企业、或企业的上下游一起使用。同时，因为有多个参与方，各参与方之间互相博弈，因此联盟链可以兼顾到私链的高效率和公链透明和不可篡改优势。</p>
<h3 id="no3-blockchain-layer">No.3 blockchain layer</h3>
<p>引子：你可能已经听过 Layer1 Layer2 这样的术语，这是区块链在不可能三角限制下进行垂直方向上的扩展。</p>
<p>以比特币及以太坊为例，去中心化及安全性是比特币，以太坊的基石，正是这些才保证中立、抗审查、开放性等特性，但这在某种程度上牺牲一些可扩展性来换取而来，比如：比特币网络每秒可处理的交易不足 7 笔，以太坊每秒可处理的交易通常也只有几十笔。而Visa这样的电子支付网络每秒可以处理超过 20,000 笔交易。</p>
<p>开发人员试图以各种方式对区块链网络扩容，一个广泛被采用的方案是把一些计算放到链下进行（即链上叠加一层），链上只进行计算的校验和存储。</p>
<p>以下是一个分层架构图：</p>
<p>
  <img src="/mdimg/image-20230610151257676.png" alt="">

</p>
<h4 id="1layer0">1.layer0</h4>
<p>第0层的定义目前行业还没有完全一致的理解。多数人认为第0层是 <strong>加密数据连接层及其硬件</strong>，对应上图下半部分。 也有一些人把跨链或可以创建链的基础设施为作为第0层，他们的代表有: <a href="https://layerzero.network/">LayerZero</a>、<a href="https://substrate.io/">Substrate</a> / <a href="https://polkadot.network/">Polkadot</a> 及 <a href="https://cosmos.network/">Cosmos</a></p>
<h4 id="2layer1">2.layer1</h4>
<p>layer1是我们常说的区块链，如比特币、以太坊、BSC 、Solana 等。 这些区块链在自己的区块链上根据共识处理并最终完成交易，第 1 层区块链网络为开发dApps提供了基础架构，开发者可以在第1层网络上其他协议，比如我们看到MAKER DAO 稳定币协议、加密朋克 NFT 及 Uniswap DEX 协议等。</p>
<p>随着链上应用不断增长，网络“吞吐量”无法满足快速增加的需求导致网络拥堵。增加区块链网络自身处理能力的方法：</p>
<p>1）扩大区块大小，以便在单个区块里可以容纳更多的交易，以太坊社区也确实多次提高过区块大小限制，但提高更快意味着更慢网络传播速度，以及更大数据意味着节点需要更大的存储容量，这会提高节点参与网络的门槛，使得网络更中心化；</p>
<p>2）以太坊在尝试的分片（Sharding）扩容方案，将区块链数据分成不同的片，每个分片负责网络活动中的不同交易子集。</p>
<h4 id="3layer2">3.layer2</h4>
<p><strong>Layer2 是针对底层区块链（Layer1）扩容的一种链下解决方案</strong>，Layer2 是一个独立的区块链，但使用第一层的安全性保证。</p>
<p><strong>扩容</strong>：主要思想是将原本 Layer1 的交易放在链下(Layer2)执行，减轻 Layer1 的负担，并且 Layer2 定期与Layer1通信，将Layer2的交易批量提交到 Layer1 。</p>
<h4 id="1闪电网络lightning-network扩容">1）**闪电网络（Lightning Network）**扩容</h4>
<p>比特币上一个主要的 Layer2 扩容方案是<strong>闪电网络（Lightning Network）</strong>，为小额支付场景进行优化。</p>
<p>支付的双方在链下建立一个&quot;通道&quot;，双方可以在这个“通道”多次进行支付交易，在需要结算时，关闭通道即可。</p>
<p>当支付的双方没有直接的&quot;通道&quot;可以借助第三方节点进行中转，如A 要向 F 交易时，可借助 节点C 形成&quot;通道&quot;链路。所有节点一起就形成了一个支付网络。</p>
<p>
  <img src="/mdimg/image-20230610171819182.png" alt="">

</p>
<p>advantage：</p>
<p>1⃣️<strong>更低的交易费用，对小额交易非常友好</strong>，由于比特币链上交易需要用户之间相互竞价，比特币上一笔交易手续费通常在几美金，巅峰时期这需要几十美金，对于小额的交易，手续费往往比转移的金额还要多，闪电网络上通道费用是动态的，通常按转移的BTC数量的万分之几收取。</p>
<p>2⃣️在闪电网络协议下每秒可以发生的<strong>支付数量没有基本限制</strong>，仅受每个节点的容量和速度限制。</p>
<p>3⃣️<strong>更好的隐私</strong>，闪电网络支付的细节不会公开记录在区块链上。闪电网络支付可以通过许多连续的通道进行路由，每个节点运营商都可以通过他们的通道看到支付，但如果不相邻，他们将无法看到这些资金的来源或目的地。</p>
<h4 id="2rollup扩容">2）Rollup扩容</h4>
<p>以太坊上主要的 Layer2 扩容方案是 Rollup，Rollup的核心思想是把<strong>由Rollup层负责执行交易，然后许多笔交易压缩成一笔交易提交给以太坊</strong>。</p>
<p>1⃣️<strong>Optimistic Rollup（乐观 Rollup）</strong>： Optimistic Rollup 是<strong>乐观假设</strong>从 Layer2 上执行的交易都是可信的，并批量提交到以太坊上，乐观 Rollup设置有一个挑战期（通常为一周左右），任何人发起挑战来验证交易的真实性，若挑战成功，原有交易被拒绝，并惩罚Layer2出块人。</p>
<p><strong>2⃣️ZK Rollup（零知识证明 Rollup）</strong>：主要区别是如何将交易数据发布到第一层， ZK Rollup 是通过生成一个零知识证明来证明所有交易的有效性，相比Optimistic Rollup而言没有乐观假设，且有更高的数据压缩率，但为通用的计算生成零知识证明是一个难点，开发难度很大</p>
<p>
  <img src="/mdimg/image-20230611120635474.png" alt="">

)</p>
<h4 id="3其他">3）其他</h4>
<p>和 Layer2 类似的二层扩容方案是侧链， 侧链和以太坊L2解决方案的主要区别是，<strong>Layer2继承以太坊主网络的安全性，而侧链依赖于自己的安全性</strong>。一个流行的侧链是Polygon ，他使用自己的PoS共识，有自己的验证者。但是 Polygon 会定期把交易的状态提交到以太坊。</p>
<p><strong>以太坊联链下扩容技术方案：</strong></p>
<p>
  <img src="/mdimg/image-20230611120818393.png" alt="">

</p>
<h4 id="4layer3">4.layer3</h4>
<p>Layer3目前行业还没有一致认可的定义，有一些人，将 Layer2 上的应用层，称为第 3 层，例如 Uniswap 、AAVE 、MarkerDAO 等。</p>
<h3 id="no4-blockchain-application">No.4 blockchain application</h3>
<h4 id="1financial-services">1.Financial Services</h4>
<p>2.DAO 组织</p>
<p>3.数字存证/防伪</p>
<p>4.NFT</p>
<p>5.游戏</p>
<h3 id="no5-web3">No.5 web3</h3>
<p>Web3 于 2014 年由Gavin Wood 提出，更加强调了去中心化概念与使用区块链技术创建用户可拥有的应用。</p>
<p>Web 3.0 与 Web3 概念上稍有区别，Web 3.0 强调互联网演进代际，Web3 表示使用区块链技术栈创建的应用。</p>
<h4 id="1技术架构">1.技术架构</h4>
<p>在前端部分，通过用户钱包来确保用户持有自己的数据（资产），在后端，核心应用逻辑通过链上智能合约处理，前端的交易发送给区块链节点，有区块链节点广播到区块链网络里。</p>
<p>
  <img src="/mdimg/image-20230614150707045.png" alt="">

</p>
<p>还有一个很重重要的部分是文件存储，在 Web2 里，所有的数据（包括大文件）都保存在中心化数据库中，但作为一个去中心化的 web3 应用，如果把文件保存在中心化服务器中，就面临配篡改及删除的分享。这就要引出一个新的角色：去中心化存储</p>
<h4 id="2去中心化存储">2.去中心化存储</h4>
<p>比特币、以太坊、Polygon 等区块链，主要用于执行逻辑，是一个去中心化的计算平台，并不是为存储大量数据而设计的。当我们需要保存图片、音频、视频等内容时，则需要适合大数据的存储方案。</p>
<p>有很多项目在探索解决去中心化存储问题，其中两个最流行的项目是 <a href="https://ipfs.io/">IPFS</a> 及 <a href="https://www.arweave.org/">Arweave</a> 。</p>
<h4 id="1ipfs-协议">1）IPFS 协议</h4>
<p><strong>现有的HTTP网络服务，基于IP寻址的，就是IP找到内容所在的服务器，然后再与服务器交互</strong>。而在IPFS的网络里是根据<strong>内容寻址</strong>的，我们上传到IPFS的文件都会产生哈希值，无需知道文件存储在哪里，通过哈希值就能够找到这个文件。IPFS目标是取代HTTP去构建一个更好的去中心化的Web。</p>
<p>用户通过指向文件的内容（CID）而不是文件所处的位置（url）来访问文件，这种模式被称为基于内容的寻址，在 IPFS 网络中，使用<code>ipfs://file_cid</code> 形式访问文件。</p>
<p>当用户在 IPFS 网络上上传文件时，IPFS 协议会为文件分配了一个唯一的标识符（使用 Hash 算法），称为内容标识符 (CID)。 当用户想访问这个文件时，可以使用这个CID并询问网络上哪个节点拥有它对应的文件。任何拥有该文件的节点会将文件发送给请求的用户。一旦用户收到文件，用户的计算机就会存储该文件的副本，同时该用户将成为文件的另一个提供者。</p>
<h4 id="2arweave">2）Arweave</h4>
<p>Arweave 是一个区块链网络，数据保存在网络中的区块里。并 引入了一个称为 blockweave 的结构，每个区块都与之前的两个区块相连，矿工需要在本地随机储存一个之前的区块（回忆块），才能生成新区块，而且存储保存之前的稀有区块的矿工有更大的概率去竞争到出块奖励，在 blockweave 上， 数据反复被储存在不同区块上，即便有矿工离开，也不会丢失数据，保护了数据的安全，同时由于鼓励保存稀缺块，也会促使所有的数据被“平等”保存。</p>


                
                
<div class="entry-shang text-center">
    
	    <p> 「如果这篇文章对你有用,请随意打赏」</p>
	
	<button class="zs show-zs btn btn-bred">赞赏支持</button>
</div>
<div class="zs-modal-bg"></div>
<div class="zs-modal-box">
	<div class="zs-modal-head">
		<button type="button" class="close">×</button>
		<span class="author"><a href="https://sunlongyu.github.io/"><img src="/img/sly_.png" />THIS IS SLY</a></span>
        
	        <p class="tip"><i></i><span>如果这篇文章对你有用,请随意打赏</span></p>
		
 
	</div>
	<div class="zs-modal-body">
		<div class="zs-modal-btns">
			<button class="btn btn-blink" data-num="2">2元</button>
			<button class="btn btn-blink" data-num="5">5元</button>
			<button class="btn btn-blink" data-num="10">10元</button>
			<button class="btn btn-blink" data-num="50">50元</button>
			<button class="btn btn-blink" data-num="100">100元</button>
			<button class="btn btn-blink" data-num="1">任意金额</button>
		</div>
		<div class="zs-modal-pay">
			<button class="btn btn-bred" id="pay-text">2元</button>
			<p>使用<span id="pay-type">微信</span>扫描二维码完成支付</p>
			<img src="/img/reward/wechat-2.png"  id="pay-image"/>
		</div>
	</div>
	<div class="zs-modal-footer">
		<label><input type="radio" name="zs-type" value="wechat" class="zs-type" checked="checked"><span ><span class="zs-wechat"><img src="/img/reward/wechat-btn.png"/></span></label>
		<label><input type="radio" name="zs-type" value="alipay" class="zs-type" class="zs-alipay"><img src="/img/reward/alipay-btn.png"/></span></label>
	</div>
</div>
<script type="text/javascript" src="/js/reward.js"></script>

                

                
                <hr>
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/post/2023-09-03-take-you-through-ethereum/" data-toggle="tooltip" data-placement="top" title="Take you through Ethereum">&larr;
                            Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/post/2023-09-05-overview-of-ddos-attack/" data-toggle="tooltip" data-placement="top" title="Overview of DDOS Attack">Next
                            Post &rarr;</a>
                    </li>
                    
                </ul>
                

                



            </div>

            
            
            <div class="
                col-lg-2 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
                <div class="side-catalog">
                    <hr class="hidden-sm hidden-xs">
                    <h5>
                        <a class="catalog-toggle" href="#">CATALOG</a>
                    </h5>
                    <ul class="catalog-body"></ul>
                </div>
            </div>
            

            
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                
                
                <section>
                    <hr class="hidden-sm hidden-xs">
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                    </div>
                </section>
                

                
                
                <section>
                    <hr>
                    <h5>FRIENDS</h5>
                    <ul class="list-inline">
                        
                        <li><a target="_blank" href="https://friend-blog-url.com"></a></li>
                        
                    </ul>
                </section>
                
            </div>
        </div>
    </div>
</article>




<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">                  
                    
                    <li>
                        <a href="mailto:longyusun913@gmail.com">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		           
                    
                    
                    <li>
                        <a target="_blank" href="#ZgotmplZ">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab  fa-stack-1x fa-inverse">知</i>
                            </span>
                        </a>
                    </li>
		            
                    
                    <li>
                        <a target="_blank" href="https://weibo.com/u/5782286452">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-weibo fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		           
                    
                    <li>
                        <a target="_blank" href="https://www.facebook.com/profile.php?id=100080134944989">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-facebook fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		           

		            
                    
                    <li>
                        <a target="_blank" href="/img/wechat.png">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-weixin fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		            
                    
                    <li>
                        <a target="_blank" href="https://github.com/sunlongyu">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		            
                    
                    
                    
                    
                    
                    
                    
                    
                    
            
            
            <li>
                <a target="_blank" href="https://www.instagram.com/sunlyuers/">
                    <span class="fa-stack fa-lg">
                        <i class="fas fa-circle fa-stack-2x"></i>
                        <i class="fab fa-instagram fa-stack-1x fa-inverse"></i>
                    </span>
                </a>
            </li>
            
            
           
                   <li>
                       <a href='' rel="alternate" type="application/rss+xml" title="THIS IS SLY" >
                           <span class="fa-stack fa-lg">
                               <i class="fas fa-circle fa-stack-2x"></i>
                               <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
                           </span>
                       </a>
                   </li>
            
             </ul>
        		<p class="copyright text-muted">
                    Copyright &copy; THIS IS SLY 2023
                </p>
            </div>
        </div>
    </div>
</footer>




<script>
    function loadAsync(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>






<script>
    
    if($('#tag_cloud').length !== 0){
        loadAsync("/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>


<script>
    loadAsync("https://cdn.jsdelivr.net/npm/fastclick@1.0.6/lib/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>









<script type="text/javascript">
    function generateCatalog(selector) {

        
        
        
        
            _containerSelector = 'div.post-container'
        

        
        var P = $(_containerSelector), a, n, t, l, i, c;
        a = P.find('h1,h2,h3,h4,h5,h6');

        
        $(selector).html('')

        
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#" + $(this).prop('id');
            t = $(this).text();
            c = $('<a href="' + i + '" rel="nofollow">' + t + '</a>');
            l = $('<li class="' + n + '_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;
    }

    generateCatalog(".catalog-body");

    
    $(".catalog-toggle").click((function (e) {
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    


    loadAsync("\/js\/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>






</body>
</html>
